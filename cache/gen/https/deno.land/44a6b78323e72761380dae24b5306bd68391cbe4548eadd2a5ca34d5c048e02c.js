import { ServerContext } from "./context.ts";
import { serve } from "./deps.ts";
export { Status } from "./deps.ts";
export { RenderContext } from "./render.ts";
export { ServerContext };
export async function start(routes, opts = {}) {
    const ctx = await ServerContext.fromManifest(routes, opts);
    opts.port ??= 8000;
    if (opts.experimentalDenoServe === true) {
        // @ts-ignore as `Deno.serve` is still unstable.
        await Deno.serve(ctx.handler(), opts);
    } else {
        await serve(ctx.handler(), opts);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvZnJlc2hAMS4xLjIvc3JjL3NlcnZlci9tb2QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VydmVyQ29udGV4dCB9IGZyb20gXCIuL2NvbnRleHQudHNcIjtcbmltcG9ydCB7IHNlcnZlIH0gZnJvbSBcIi4vZGVwcy50c1wiO1xuZXhwb3J0IHsgU3RhdHVzIH0gZnJvbSBcIi4vZGVwcy50c1wiO1xuaW1wb3J0IHtcbiAgQXBwTW9kdWxlLFxuICBFcnJvclBhZ2VNb2R1bGUsXG4gIElzbGFuZE1vZHVsZSxcbiAgTWlkZGxld2FyZU1vZHVsZSxcbiAgUm91dGVNb2R1bGUsXG4gIFN0YXJ0T3B0aW9ucyxcbiAgVW5rbm93blBhZ2VNb2R1bGUsXG59IGZyb20gXCIuL3R5cGVzLnRzXCI7XG5leHBvcnQgdHlwZSB7XG4gIEFwcFByb3BzLFxuICBFcnJvckhhbmRsZXIsXG4gIEVycm9ySGFuZGxlckNvbnRleHQsXG4gIEVycm9yUGFnZVByb3BzLFxuICBGcmVzaE9wdGlvbnMsXG4gIEhhbmRsZXIsXG4gIEhhbmRsZXJDb250ZXh0LFxuICBIYW5kbGVycyxcbiAgTWlkZGxld2FyZUhhbmRsZXIsXG4gIE1pZGRsZXdhcmVIYW5kbGVyQ29udGV4dCxcbiAgUGFnZVByb3BzLFxuICBQbHVnaW4sXG4gIFBsdWdpblJlbmRlclJlc3VsdCxcbiAgUGx1Z2luUmVuZGVyU2NyaXB0cyxcbiAgUGx1Z2luUmVuZGVyU3R5bGVUYWcsXG4gIFJlbmRlckZ1bmN0aW9uLFxuICBSb3V0ZUNvbmZpZyxcbiAgU3RhcnRPcHRpb25zLFxuICBVbmtub3duSGFuZGxlcixcbiAgVW5rbm93bkhhbmRsZXJDb250ZXh0LFxuICBVbmtub3duUGFnZVByb3BzLFxufSBmcm9tIFwiLi90eXBlcy50c1wiO1xuZXhwb3J0IHsgUmVuZGVyQ29udGV4dCB9IGZyb20gXCIuL3JlbmRlci50c1wiO1xuZXhwb3J0IHR5cGUgeyBJbm5lclJlbmRlckZ1bmN0aW9uIH0gZnJvbSBcIi4vcmVuZGVyLnRzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFuaWZlc3Qge1xuICByb3V0ZXM6IFJlY29yZDxcbiAgICBzdHJpbmcsXG4gICAgfCBSb3V0ZU1vZHVsZVxuICAgIHwgTWlkZGxld2FyZU1vZHVsZVxuICAgIHwgQXBwTW9kdWxlXG4gICAgfCBFcnJvclBhZ2VNb2R1bGVcbiAgICB8IFVua25vd25QYWdlTW9kdWxlXG4gID47XG4gIGlzbGFuZHM6IFJlY29yZDxzdHJpbmcsIElzbGFuZE1vZHVsZT47XG4gIGJhc2VVcmw6IHN0cmluZztcbiAgY29uZmlnPzogRGVub0NvbmZpZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZW5vQ29uZmlnIHtcbiAgaW1wb3J0TWFwOiBzdHJpbmc7XG4gIGNvbXBpbGVyT3B0aW9ucz86IHtcbiAgICBqc3g/OiBzdHJpbmc7XG4gICAganN4SW1wb3J0U291cmNlPzogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgeyBTZXJ2ZXJDb250ZXh0IH07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFydChyb3V0ZXM6IE1hbmlmZXN0LCBvcHRzOiBTdGFydE9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBjdHggPSBhd2FpdCBTZXJ2ZXJDb250ZXh0LmZyb21NYW5pZmVzdChyb3V0ZXMsIG9wdHMpO1xuICBvcHRzLnBvcnQgPz89IDgwMDA7XG4gIGlmIChvcHRzLmV4cGVyaW1lbnRhbERlbm9TZXJ2ZSA9PT0gdHJ1ZSkge1xuICAgIC8vIEB0cy1pZ25vcmUgYXMgYERlbm8uc2VydmVgIGlzIHN0aWxsIHVuc3RhYmxlLlxuICAgIGF3YWl0IERlbm8uc2VydmUoY3R4LmhhbmRsZXIoKSBhcyBEZW5vLlNlcnZlSGFuZGxlciwgb3B0cyk7XG4gIH0gZWxzZSB7XG4gICAgYXdhaXQgc2VydmUoY3R4LmhhbmRsZXIoKSwgb3B0cyk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLGFBQWEsUUFBUSxlQUFlO0FBQzdDLFNBQVMsS0FBSyxRQUFRLFlBQVk7QUFDbEMsU0FBUyxNQUFNLFFBQVEsWUFBWTtBQWlDbkMsU0FBUyxhQUFhLFFBQVEsY0FBYztBQXlCNUMsU0FBUyxhQUFhLEdBQUc7QUFFekIsT0FBTyxlQUFlLE1BQU0sTUFBZ0IsRUFBRSxPQUFxQixDQUFDLENBQUMsRUFBRTtJQUNyRSxNQUFNLE1BQU0sTUFBTSxjQUFjLFlBQVksQ0FBQyxRQUFRO0lBQ3JELEtBQUssSUFBSSxLQUFLO0lBQ2QsSUFBSSxLQUFLLHFCQUFxQixLQUFLLElBQUksRUFBRTtRQUN2QyxnREFBZ0Q7UUFDaEQsTUFBTSxLQUFLLEtBQUssQ0FBQyxJQUFJLE9BQU8sSUFBeUI7SUFDdkQsT0FBTztRQUNMLE1BQU0sTUFBTSxJQUFJLE9BQU8sSUFBSTtJQUM3QixDQUFDO0FBQ0gsQ0FBQyJ9